CREATE DATABASE FALTAS_SANCIONES


USE FALTAS_SANCIONES 

 CREATE TABLE USUARIO
 (COD_USUARIO CHAR(5) PRIMARY KEY,
 NOMBRE VARCHAR(50) NOT NULL,
 CONTRASEÑA VARCHAR (50) NOT NULL,
 NIVEL VARCHAR(50) NOT NULL)

CREATE TABLE DISTRITO
(COD_DISTRITO CHAR(5) NOT NULL,
NOMBRE VARCHAR(50) NOT NULL
CONSTRAINT PK_DISTRITO PRIMARY KEY(COD_DISTRITO))

CREATE TABLE FALTAS
(COD_FALTA CHAR(5) NOT NULL,
DESCRIPCION VARCHAR(50) NOT NULL,
CONSTRAINT PK_FALTAS PRIMARY KEY(COD_FALTA))

CREATE TABLE SANCIONES
(COD_SANCION CHAR(5) NOT NULL,
DESCRIPCION VARCHAR(50) NOT NULL,
CONSTRAINT PK_SANCIONES PRIMARY KEY(COD_SANCION))

CREATE TABLE ALUMNO
(COD_ALUMNO CHAR(5) NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
APAT_PAT VARCHAR(50) NOT NULL,
APAT_MAT VARCHAR(50) NOT NULL,
SECCION CHAR(1) NOT NULL,
GRADO CHAR(1) NOT NULL,
SEXO CHAR(1)  NOT NULL,
ESTADO_CIVIL VARCHAR(50) NOT NULL,
COD_DIST CHAR(5) NOT NULL,
CONSTRAINT PK_ALUMNO PRIMARY KEY(COD_ALUMNO))

CREATE TABLE PROFESORES
(COD_PROFESOR CHAR(5) NOT NULL,
APE_APAT VARCHAR(50) NOT NULL,
APE_AMAT VARCHAR(50) NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
SEXO CHAR(1) NOT NULL,
ESTADO_CIVIL VARCHAR(50) NOT NULL,
COD_DIST CHAR(5) NOT NULL,
CONSTRAINT PK_PROFESOR PRIMARY KEY(COD_PROFESOR))


CREATE TABLE DETALLE_FALTA
(COD_DETALLE CHAR(5) NOT NULL,
COD_ALUMNO CHAR(5) NOT NULL,
FECHA DATE NOT NULL,
COD_FALTA CHAR(5) NOT NULL,
COD_PROF CHAR(5) NOT NULL,
COD_SANCION CHAR (5) NOT NULL,
CONSTRAINT PK_DETALLE_FALTA PRIMARY KEY(COD_DETALLE),
CONSTRAINT FK_DETALLE_FALTA_ALUMNOS FOREIGN KEY(COD_ALUMNO) REFERENCES ALUMNO(COD_ALUMNO),
CONSTRAINT FK_DETALLE_FALTA_FALTAS FOREIGN KEY(COD_FALTA) REFERENCES FALTAS(COD_FALTA),
CONSTRAINT FK_DETALLE_FALTA_PROFESORES FOREIGN KEY(COD_PROF) REFERENCES PROFESORES(COD_PROFESOR),
CONSTRAINT FK_DETALLE_FALTA_SANCIONES FOREIGN KEY(COD_SANCION) REFERENCES SANCIONES(COD_SANCION))
 
GO
ALTER TABLE PROFESORES
ADD CONSTRAINT FK_PROFESORES_DISTRITOS FOREIGN KEY(COD_DIST) REFERENCES DISTRITO(COD_DISTRITO)

GO

ALTER TABLE ALUMNO
ADD CONSTRAINT FK_ALUMNO_DISTRITO FOREIGN KEY(COD_DIST) REFERENCES DISTRITO(COD_DISTRITO)
GO

INSERT INTO DISTRITO VALUES('D0001','RIBAGUERO')
INSERT INTO DISTRITO VALUES('D0002','CHORRILLO')
INSERT INTO DISTRITO VALUES('D0003','Barranco')
INSERT INTO DISTRITO VALUES('D0004','Breña')
INSERT INTO DISTRITO VALUES('D0005','Comas')
INSERT INTO DISTRITO VALUES('D0006','Chorrilos')
INSERT INTO DISTRITO VALUES('D0007','El Agustino')
INSERT INTO DISTRITO VALUES('D0008','Jesus Maria')
INSERT INTO DISTRITO VALUES('D0009','La Molina')
INSERT INTO DISTRITO VALUES('D0010','La Victoria')
INSERT INTO DISTRITO VALUES('D0011','Lince')
INSERT INTO DISTRITO VALUES('D0013','Miraflores')
INSERT INTO DISTRITO VALUES('D0014','Pueblo Libre')
INSERT INTO DISTRITO VALUES('D0015','Puente Piedra')
INSERT INTO DISTRITO VALUES('D0016','Rimac')
INSERT INTO DISTRITO VALUES('D0017','San Isidro')
INSERT INTO DISTRITO VALUES('D0018','Independencia')
INSERT INTO DISTRITO VALUES('D0019','San Juan de Miraflores')
INSERT INTO DISTRITO VALUES('D0020','San Luis')
INSERT INTO DISTRITO VALUES('D0021','San Martin de Porres')
INSERT INTO DISTRITO VALUES('D0022','San Miguel')
INSERT INTO DISTRITO VALUES('D0023','Santiago de Surco')
INSERT INTO DISTRITO VALUES('D0024','Surquillo')
INSERT INTO DISTRITO VALUES('D0025','Vila Maria del Triunfo')
INSERT INTO DISTRITO VALUES('D0026','Ancón')
INSERT INTO DISTRITO VALUES('D0027','Carabayllo')
INSERT INTO DISTRITO VALUES('D0028','Chaclacayo')
INSERT INTO DISTRITO VALUES('D0029','Lurigancho')
INSERT INTO DISTRITO VALUES('D0030','Lurin')
INSERT INTO DISTRITO VALUES('D0031','Pachacamac')
INSERT INTO DISTRITO VALUES('D0032','Pucusana')




INSERT INTO ALUMNO VALUES('A0001','Arturo','Garcia','Paredes','A','3','M','soltero','D0011')
INSERT INTO ALUMNO VALUES('A0002','Maria','Mercedez','Gomero','B','2','F','soltero','D0002')
INSERT INTO ALUMNO VALUES('A0003','Mike','Bravo','Romero','D','5','M','soltero','D0025')
INSERT INTO ALUMNO VALUES('A0004','Angie','Cardenas','Sandoval','A','6','F','soltero','D0023')
INSERT INTO ALUMNO VALUES('A0005','Lucas','Miro','Chavez','E','4','M','soltero','D0019')


INSERT INTO PROFESORES VALUES ('P0001','FERNANDEZ','PORTILLA','CARLOS','M','CASADO','D0001')
INSERT INTO PROFESORES VALUES  ('P0002','AYASTA','CANO','DORIS','F','CASADO','D0002')
INSERT INTO PROFESORES VALUES ('P0003','GUZMAN','VARIAS','ANGEL','M','SOLTERO','D0003')
INSERT INTO PROFESORES VALUES ('P0004','REGALADO','BONIFACIO','ANGELICA','F','CASADO','D0001')
INSERT INTO PROFESORES VALUES ('P0005','CARBONEL','SANCHEZ','LILIANA','F','SOLTERO','D0003')



INSERT INTO SANCIONES VALUES ('S0001','ninguna'),
                          ('S0002','llamada de atencion'),
						  ('S0003','citacion al padre de familia'),
						  ('S0004','suspencion temporal'),
						  ('S0005','suspencion definitiva')

INSERT INTO FALTAS VALUES ('F0001','NINGUNA')					  
INSERT INTO FALTAS VALUES ('F0002','FALTA DE RESPETO AL DOCENTE')
INSERT INTO FALTAS VALUES ('F0003','FALTA DE RESPETO AL COMPAÑERO')
INSERT INTO FALTAS VALUES ('F0004','LEVANTAR LA VOZ')
INSERT INTO FALTAS VALUES ('F0005','LLEGA TARDE')



INSERT INTO usuario VALUES('U0001','ANDREA','12345','ADMINISTRADOR')
INSERT INTO usuario Values ('U0002','ELSA','22222','INVITADO')






INSERT INTO DETALLE_FALTA VALUES('DF001','A0001','12/05/17','F0002','P0003','S0002')
INSERT INTO DETALLE_FALTA VALUES('DF002','A0003','12/05/17','F0001','P0005','S0001')
INSERT INTO DETALLE_FALTA VALUES('DF003','A0005','13/05/17','F0004','P0002','S0004')
INSERT INTO DETALLE_FALTA VALUES('DF004','A0002','15/06/17','F0003','P0004','S0003')
INSERT INTO DETALLE_FALTA VALUES('DF005','A0001','18/07/17','F0003','P0003','S0003')


SELECT * FROM ALUMNO

